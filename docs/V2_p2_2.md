# 2.2. Development Environment Setup

This guide describes the steps to set up the working environment on Windows for developing the `FastMediaSorter_mobile` project using Android Studio and Visual Studio Code.

## Part 1: Installing Core Tools

### Git

-   **Purpose:** Version control system for working with source code.
-   **Installation:**
    1.  Download the installer from the official website: [git-scm.com](https://git-scm.com/).
    2.  Run the installation. During installation, it is recommended to leave most settings at default. Ensure that Git is added to the system PATH by selecting the option "Git from the command line and also from 3rd-party software".

### Android Studio

-   **Purpose:** Main integrated development environment (IDE) for creating Android applications. Includes Android SDK, emulator, and build tools.
-   **Installation:**
    1.  Download the latest stable version of Android Studio from the official website: [developer.android.com/studio](https://developer.android.com/studio).
    2.  Run the installer and follow the instructions. Ensure that the components "Android Studio" and "Android Virtual Device" are selected.
    3.  After installation, launch Android Studio. The initial setup wizard will help download the latest version of Android SDK.

### Visual Studio Code

-   **Purpose:** Lightweight code editor, convenient for working with documentation (Markdown), scripts, and other files not directly related to Android app compilation.
-   **Installation:**
    1.  Download the installer from the official website: [code.visualstudio.com](https://code.visualstudio.com/).
    2.  Run the installation. It is recommended to enable the options "Add to PATH" and "Add 'Open with Code' action" to the context menu.

## Part 2: Cloning the Repository

1.  Open a terminal (Command Prompt, PowerShell, or Git Bash).
2.  Navigate to the directory where you plan to store projects (e.g., `c:\GIT`).
3.  Execute the clone command using the URL obtained in Step 2.1:
    ```bash
    git clone https://github.com/YourUsername/FastMediaSorter_mobile.git
    ```
4.  Navigate to the created project directory:
    ```bash
    cd FastMediaSorter_mobile
    ```

## Part 3: Configuring Android Studio

### Opening the project

-   Launch Android Studio.
-   On the start screen, select **"Open"**.
-   Navigate to the folder where you cloned the repository (`c:\GIT\FastMediaSorter_mobile`) and select it.

### Gradle synchronization

-   Android Studio will automatically start the project synchronization process using Gradle. This may take several minutes as all necessary dependencies will be downloaded. Monitor the progress in the bottom part of the IDE window.

### Configuring Android SDK

-   Open SDK Manager (cube icon with a downward arrow on the toolbar or **Tools > SDK Manager**).
-   In the **"SDK Platforms"** tab, ensure that the following are installed:
    -   The latest stable Android version (e.g., Android 13.0, API 33).
    -   **Android 9.0 (Pie, API 28)**, as this is the minimum required version for the project.
-   Go to the **"SDK Tools"** tab and ensure that the following are installed:
    -   `Android SDK Build-Tools`
    -   `NDK (Side by side)`
    -   `Android SDK Platform-Tools`
    -   `Android Emulator`

### Setting up a device for running

-   **Virtual device (Emulator):**
    1.  Open Device Manager (**Tools > Device Manager**).
    2.  Click **"Create device"**.
    3.  Select a device model (e.g., Pixel 6) and click "Next".
    4.  Download and select a system image (the latest stable API version is recommended).
    5.  Complete device creation by clicking "Finish".
-   **Physical device:**
    1.  On your Android device, go to **Settings > About phone**.
    2.  Tap **"Build number"** 7 times until the message "You are now a developer!" appears.
    3.  Go back to the main settings menu, navigate to **System > Developer options**.
    4.  Enable the **"USB debugging"** option.
    5.  Connect the device to the computer using a USB cable. It will appear in the list of available devices in Android Studio.

## Part 4: Configuring Visual Studio Code

1.  Open VS Code.
2.  Select **File > Open Folder...** and specify the project folder (`c:\GIT\FastMediaSorter_mobile`).
3.  Install recommended extensions for convenient work. Go to the **Extensions** tab (Ctrl+Shift+X) and install:
    -   `EditorConfig for VS Code`: Automatically applies code styles from the `.editorconfig` file.
    -   `GitLens`: Extends Git capabilities within the editor.
    -   `Markdown All in One`: Everything needed for editing Markdown files (including preview).
    -   `kotlin-language`: Basic Kotlin syntax support.

## Part 5: First Build and Run

1.  Ensure that in Android Studio, your virtual or physical device is selected in the device dropdown list.
2.  Click the green **"Run 'app'"** button (Shift+F10) on the toolbar.
3.  Android Studio will build the project and install the app on the selected device. The first run may take a significant amount of time.
4.  After successful build, the app will launch on the device.
