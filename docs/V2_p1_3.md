## 1.3. Functional Specification

### 1.3.1. Core Principles
*   **Unified Interface:** The application provides a single interface for media files from all sources (local, network), combining the browser, player, and sorter into one `Browse Screen`.
*   **Supported Media Types:**
    *   **Images:** JPEG, PNG.
    *   **Animation:** GIF.
    *   **Video:** MP4, WEBM, MOV, MKV (via ExoPlayer).
    *   **Audio:** MP3, WAV, and other formats supported by ExoPlayer.
*   **Color Scheme:** The app automatically adapts to the system's light or dark theme.
*   **Localization:** Supports English, Russian, and Ukrainian, with a manual override option.

### 1.3.2. Resource Management (Folders)
*   **Resource Types:** The system supports four resource types: "Local Folder", "Network Folder (SMB)", "Cloud Folder" (Google Drive, OneDrive, Dropbox), and "SFTP".
*   **Adding and Scanning:**
    *   **Local:** Add folders manually via the system picker or auto-scan the device for media folders.
    *   **Network (SMB):** Add by specifying IP, credentials, and share name, with an option to scan for public shares.
    *   **Cloud:** Add via the provider's standard authorization flow.
    *   **SFTP:** Add by specifying host, port, and credentials.
*   **Main Screen:**
    *   Displays all registered resources in a scrollable list.
    *   Each item shows name, address, type, file count, and destination status.
    *   Users can reorder, edit, copy, or delete resources.
    *   The list can be filtered and sorted.
    *   Short press selects a resource; long or double press opens it in the `Browse Screen`.

### 1.3.3. Media Browsing and Navigation (`Browse Screen`)
*   **Display Modes:**
    *   **List:** A detailed view with a thumbnail and file properties (name, size, date).
    *   **Grid:** A configurable grid of thumbnails.
*   **Sorting and Filtering:**
    *   **Sorting:** Sort files by name (alphabetical/logical), size, date, or duration. The setting is saved per-resource.
    *   **Filtering:** Temporarily filter the view by name, date range, or size.
*   **File Selection:** Supports single and multiple file selection for batch operations (initiated by a long press).

### 1.3.4. File Operations
*   **Core Operations:** Copy, move, rename, and delete. Availability depends on permissions and settings.
*   **Destinations (Recipients):**
    *   Copy/move operations target one of up to 10 pre-configured `Destination` folders.
    *   The target is selected via a dedicated dialog screen with colored buttons for each destination.
*   **Renaming:** Supports renaming single or multiple files.
*   **Deletion:** Requires confirmation (if enabled). Physical deletion can be deferred when the `Undo` feature is active.
*   **Undo Operation:**
    *   An optional feature to revert the last file operation (copy, move, rename, delete).
    *   The system temporarily stores operation details to enable a rollback.

### 1.3.5. Media Player (`Player Screen`)
*   **Display Modes:**
    *   **Fullscreen:** Media is displayed edge-to-edge, with controls accessed via invisible touch zones.
    *   **With Command Panel:** Control panels are visible above and below the media content.
*   **Navigation:** Navigate between files using swipes or on-screen buttons/touch zones.
*   **Slideshow:**
    *   Automatically advances through files at a configurable interval.
    *   Includes an option to play video/audio files to completion before advancing.
*   **Media-Specific Behavior:**
    *   **Images:** Stretched to fill the display area while preserving aspect ratio.
    *   **Video:** Uses ExoPlayer with standard playback controls.
    *   **Audio:** Uses a similar interface to the video player, showing file metadata.
*   **Caching:** Preemptively caches the next file in the sequence to ensure fast and smooth navigation.

### 1.3.6. Settings (`Settings Screen`)
*   **Structure:** Organized into tabs: "General", "Media Files", "Display and Sorting", and "Destinations".
*   **Key Settings:**
    *   **General:** Language, keep-awake toggle, default network credentials, log access.
    *   **Media Files:** Enable/disable media types (Image, Video, Audio, GIF) and configure size-based filters for each.
    *   **Display and Sorting:** Set default sort order, slideshow interval, and toggle file operations (delete, rename).
    *   **Destinations:** Manage the list of recipient folders, their order, and associated colors. Configure copy/move behavior (e.g., overwrite).
